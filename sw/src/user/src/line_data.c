#include "line_data.h"


uint8_t led_active[320] = {0};
 

// 900057102
// led nmer on pcb -1
station_line_t stations[] = {
    {900170004, 8},
    {900170003, 9},
    {900170002, 10},
    {900170001, 11},
    {900170005, 12},
    {900175010, 13},
    {900175015, 14},
    {900175007, 15},
    {900175006, 16},
    {900175005, 17},
    {900175004, 18},
    {900175001, 19},
    {900171001, 20},
    {900171003, 21},
    {900152002, 22},
    {900152001, 23},
    {900151001, 24},
    {900110002, 25},
    {900110003, 26},
    {900110004, 27},
    {900110012, 28},
    {900120009, 29},
    {900120008, 30},
    {900120025, 31},
    {900120006, 32},
    {900100017, 33},
    {900100003, 34},
    {900100045, 35},
    {900100014, 36},
    {900100013, 37},
    {900100537, 38},
    {900100513, 39},
    {900100002, 40},
    {900007103, 41},
    {900007110, 42},
    {900100023, 43},
    {900100051, 44},
    {900100016, 45},
    {900110005, 46},
    {900110006, 47},
    {900110001, 48},
    {900130011, 49},
    {900130002, 50},
    {900130001, 51},
    {900142001, 52},
    {900143001, 53},
    {900135001, 54},
    {900350162, 55},
    {900350163, 56},
    {900350161, 57},
    {900350160, 58},
    {900200013, 59},
    {900200012, 60},
    {900200011, 61},
    {900096101, 62},
    {900084101, 63},
    {900085201, 64},
    {900009203, 65},
    {900130003, 66},
    {900110011, 67},
    {900007102, 68},
    {900008101, 69},
    {900007104, 70},
    {900100007, 71},
    {900100001, 72},
    {900100019, 73},
    {900100009, 74},
    {900100501, 75},
    {900008102, 76},
    {900009104, 77},
    {900009102, 78},
    {900009201, 79},
    {900009202, 80},
    {900085202, 81},
    {900085203, 82},
    {900085104, 83},
    {900086160, 84},
    {900096458, 85}, 
    {900096410, 86},
    {900085105, 87},
    {900094101, 88},
    {900093201, 89},
    {900092201, 90},
    {900200009, 91},
    {900200008, 92},
    {900200007, 93},
    {900200006, 94},
    {900200005, 95},
    {900200000, 96},
    {900091203, 97},
    {900091205, 98},
    {900089301, 99},
    {900088202, 100},
    {900088201, 101},
    {900096405, 102},
    {900086161, 103},
    {900087101, 104},
    {900086102, 105},
    {900011102, 106},
    {900011101, 107},
    {900009103, 108},
    {900009101, 109},
    {900001201, 110},
    {900002201, 111},
    {900003104, 112},
    {900003102, 113},
    {900003201, 114},
    {900003254, 115},
    {900100025, 116},
    {900100010, 117},
    {900100020, 118},
    {900005252, 119},
    {900012101, 120},
    {900017103, 121},
    {900056104, 122},
    {900005201, 123},
    {900056102, 124},
    {900056101, 125},
    {900055101, 126},
    {900055102, 127},
    {900054103, 128},
    {900054101, 129},
    {900057104, 130},
    {900054102, 131},
    {900058103, 132},
    {900058101, 133},
    {900054104, 134},
    {900054105, 135},
    {900060101, 136},
    {900063101, 137},
    {900062203, 138},
    {900062202, 139},
    {900066102, 140},
    {900066101, 141},
    {900061101, 142},
    {900061102, 143},
    {900044202, 144},
    {900044201, 145},
    {900043201, 146},
    {900041102, 147},
    {900041101, 148},
    {900043101, 149},
    {900042101, 150},
    {900023202, 151},
    {900023203, 152},
    {900023301, 153},
    {900024203, 154},
    {900023201, 155},
    {900003101, 156},
    {900003103, 157},
    {900023101, 158},
    {900022201, 159},
    {900024201, 160},
    {900022202, 161},
    {900019204, 162},
    {900020202, 163},
    {900020201, 164},
    {900018101, 165},
    {900018102, 166},
    {900035101, 167},
    {900036101, 168},
    {900034101, 169},
    {900034102, 170},
    {900033101, 171},
    {900029301, 172},
    {900029302, 173},
    {900029101, 174},
    {900030202, 175},
    {900025424, 176},
    {900025321, 177},
    {900026105, 178},
    {900025202, 179},
    {900025203, 180},
    {900026101, 181},
    {900026201, 182},
    {900025423, 183},
    {900048101, 184},
    {900040101, 185},
    {900024102, 186},
    {900026202, 187},
    {900026207, 188},
    {900022101, 189},
    {900024202, 190},
    {900023302, 191},
    {900041201, 192},
    {900045102, 193},
    {900044101, 194},
    {900045101, 195},
    {900051202, 196},
    {900051302, 197},
    {900051303, 198},
    {900051201, 199},
    {900051301, 200},
    {900050282, 201},
    {900050201, 202},
    {900050355, 203},
    {900052201, 204},
    {900230999, 205},
    {900230000, 206},
    {900230003, 207},
    {900053301, 208},
    {900050301, 209},
    {900049201, 210},
    {900049202, 211},
    {900220114, 212},
    {900064201, 213},
    {900064256, 214},
    {900064301, 215},
    {900067221, 216},
    {900063452, 217},
    {900058102, 218},
    {900068301, 219},
    {900245027, 220},
    {900245028, 221},
    {900074201, 222},
    {900074202, 223},
    {900072101, 224},
    {900073101, 225},
    {900070301, 226},
    {900070101, 227},
    {900069271, 228},
    {900068302, 229},
    {900068202, 230},
    {900068201, 231},
    {900068101, 232},
    {900017102, 233},
    {900017101, 234},
    {900016101, 235},
    {900012103, 236},
    {900017104, 237},
    {900012102, 238},
    {900100011, 239},
    {900100012, 240},
    {900013103, 241},
    {900016202, 242},
    {900100015, 243},
    {900100008, 244},
    {900100004, 245},
    {900120005, 246},
    {900120004, 247},
    {900014102, 248},
    {900014101, 249},
    {900013101, 250},
    {900016201, 251},
    {900078101, 252},
    {900013102, 253},
    {900079202, 254},
    {900079201, 255},
    {900079221, 256},
    {900078102, 257},
    {900078103, 258},
    {900190001, 259},
    {900077155, 260},
    {900077106, 261},
    {900078201, 262},
    {900080202, 263},
    {900080201, 264},
    {900080401, 265},
    {900080402, 266},
    {900082202, 267},
    {900082201, 268},
    {900083102, 269},
    {900083101, 270},
    {900083201, 271},
    {900260080, 272},
    {900260009, 273},
    {900260005, 274},
    {900196001, 275},
    {900195510, 276},
    {900191002, 277},
    {900191001, 278},
    {900192001, 279},
    {900192002, 280},
    {900180003, 281},
    {900193001, 282},
    {900193002, 283},
    {900186001, 284},
    {900260004, 285},
    {900260003, 286},
    {900260002, 287},
    {900260001, 288},
    {900310004, 289},
    {900183002, 290},
    {900183001, 291},
    {900182002, 292},
    {900182001, 293},
    {900180001, 294},
    {900180002, 295},
    {900162001, 296},
    {900160002, 297},
    {900160001, 298},
    {900160003, 299},
    {900120003, 300},
    {900120001, 301},
    {900160005, 302},
    {900160004, 303},
    {900161512, 304},
    {900171002, 305},
    {900161002, 306},
    {900171005, 307},
    {900171006, 308},
    {900175002, 309},
    {900176001, 310},
    {900320026, 311},
    {900320008, 312},
    {900320007, 313},
    {900320006, 314},
    {900320005, 315},
    {900320004, 316},
    {900320003, 317},
    {900320002, 318},
    {900320001, 319},
    {900024106, 187}, // duplicate line_pos 187 in your list
    {900024101, 190}, // duplicate line_pos 187 in your list
    {900057102, 132}
};




typedef enum
{
LINE_U1 = 0,
LINE_U2 = 1,
LINE_U3 = 2,
LINE_U4 = 3,
LINE_U5 = 4,
LINE_U6 = 5,
LINE_U7 = 6,
LINE_U8 = 7,
LINE_U9 = 8,
LINE_S1 = 9,
LINE_S2 = 10,
LINE_S25 = 11,
LINE_S26 = 12,
LINE_S3 = 13,
LINE_S5 = 14,
LINE_S7 = 15,
LINE_S75 = 16,
LINE_S8 = 17,
LINE_S85 = 18,
LINE_S9 = 19,
LINE_S41 = 20,
LINE_S42 = 21,
LINE_S45 = 22,
LINE_S46 = 23,
LINE_S47 = 24,
LINE_S41S42 = 25
}line_enum_t;

line_pos_struct_t U1[13] = 
{
{121,8},
{123,9},
{124,10},
{125,11},
{152,12},
{153,13},
{236,6},
{237,7},
{241,5},
{247,1},
{248,2},
{249,3},
{253,4}
};

line_pos_struct_t U2[29] = 
{
{34,23},
{36,21},
{37,20},
{45,24},
{46,25},
{47,26},
{48,27},
{49,28},
{50,29},
{117,17},
{118,16},
{119,15},
{121,14},
{122,13},
{124,12},
{125,11},
{155,10},
{158,9},
{159,8},
{160,7},
{179,1},
{180,2},
{181,3},
{182,4},
{187,5},
{189,6},
{239,18},
{240,19},
{243,22}
};

line_pos_struct_t U3[24] = 
{
{121,8},
{123,9},
{124,10},
{125,11},
{148,15},
{149,14},
{150,13},
{151,12},
{193,16},
{195,17},
{196,18},
{197,19},
{198,20},
{199,21},
{200,22},
{201,23},
{202,24},
{236,6},
{237,7},
{241,5},
{247,1},
{248,2},
{249,3},
{253,4}
};

line_pos_struct_t U4[5] = 
{
{124,5},
{126,4},
{127,3},
{129,2},
{135,1}
};

line_pos_struct_t U5[26] = 
{
{13,26},
{14,25},
{15,24},
{16,23},
{17,22},
{18,21},
{19,20},
{29,12},
{30,11},
{31,10},
{32,9},
{33,8},
{34,7},
{35,6},
{38,5},
{39,4},
{114,1},
{115,2},
{116,3},
{301,13},
{302,14},
{303,15},
{304,16},
{306,17},
{307,18},
{308,19}
};

line_pos_struct_t U6[29] = 
{
{39,17},
{72,16},
{73,15},
{74,14},
{75,13},
{76,12},
{77,11},
{78,10},
{99,1},
{100,2},
{101,3},
{103,4},
{104,5},
{105,6},
{106,7},
{107,8},
{108,9},
{226,29},
{227,28},
{228,27},
{229,26},
{230,25},
{231,24},
{232,23},
{233,22},
{234,21},
{236,20},
{238,19},
{239,18}
};

line_pos_struct_t U7[40] = 
{
{127,20},
{128,21},
{131,22},
{132,23},
{145,19},
{147,18},
{148,17},
{160,13},
{161,12},
{162,11},
{164,10},
{165,9},
{166,8},
{167,7},
{168,6},
{169,5},
{170,4},
{171,3},
{172,2},
{173,1},
{190,14},
{191,15},
{192,16},
{234,25},
{235,26},
{237,24},
{242,27},
{252,28},
{257,29},
{258,30},
{262,31},
{263,32},
{264,33},
{265,34},
{266,35},
{267,36},
{268,37},
{269,38},
{270,39},
{271,40}
};

line_pos_struct_t U8[24] = 
{
{34,15},
{41,11},
{42,12},
{43,13},
{44,14},
{62,1},
{65,9},
{68,10},
{80,8},
{81,7},
{82,6},
{83,5},
{84,4},
{85,3},
{86,2},
{244,17},
{245,16},
{250,18},
{251,20},
{252,21},
{253,19},
{254,22},
{255,23},
{256,24}
};

line_pos_struct_t U9[17] = 
{
{78,15},
{79,16},
{80,17},
{110,14},
{111,13},
{112,12},
{138,2},
{139,1},
{142,3},
{143,4},
{144,5},
{145,6},
{146,7},
{150,8},
{152,9},
{155,10},
{156,11}
};

line_pos_struct_t S1[35] = 
{
{62,27},
{63,26},
{64,25},
{66,24},
{67,23},
{68,22},
{69,21},
{70,20},
{71,19},
{72,18},
{88,28},
{89,29},
{90,30},
{91,31},
{92,32},
{93,33},
{94,34},
{95,25},
{116,17},
{118,16},
{120,15},
{130,13},
{132,14},
{134,12},
{136,11},
{137,10},
{139,9},
{140,8},
{141,7},
{203,3},
{204,2},
{208,1},
{209,4},
{210,5},
{211,6}
};

line_pos_struct_t S2[28] = 
{
{50,20},
{51,21},
{52,22},
{53,23},
{54,24},
{55,25},
{56,26},
{57,27},
{58,28},
{67,19},
{68,18},
{69,17},
{70,16},
{71,15},
{72,14},
{116,13},
{118,12},
{120,11},
{132,10},
{133,9},
{218,8},
{219,7},
{220,1},
{221,2},
{222,3},
{223,4},
{224,5},
{225,6}
};

line_pos_struct_t S25[27] = 
{
{64,20},
{66,19},
{67,18},
{68,17},
{69,16},
{70,15},
{71,14},
{72,13},
{85,22},
{87,21},
{96,27},
{97,26},
{98,25},
{99,24},
{102,23},
{116,12},
{118,11},
{120,10},
{132,9},
{133,8},
{212,1},
{213,2},
{214,3},
{215,4},
{216,5},
{217,6},
{218,7}
};

line_pos_struct_t S26[21] = 
{
{50,19},
{51,20},
{52,21},
{67,18},
{68,17},
{69,16},
{70,15},
{71,14},
{72,13},
{116,12},
{118,11},
{120,10},
{132,9},
{133,8},
{212,1},
{213,2},
{214,3},
{215,4},
{216,5},
{217,6},
{218,7}
};

line_pos_struct_t S3[30] = 
{
{34,16},
{40,15},
{72,14},
{113,12},
{114,13},
{154,9},
{155,10},
{157,11},
{174,1},
{175,2},
{176,3},
{177,4},
{178,5},
{183,6},
{186,7},
{190,8},
{245,17},
{246,18},
{247,19},
{289,30},
{290,29},
{291,28},
{292,27},
{293,26},
{294,25},
{295,24},
{296,23},
{297,22},
{298,21},
{300,20}
};

line_pos_struct_t S5[30] = 
{
{19,19},
{20,18},
{34,10},
{40,9},
{72,8},
{113,6},
{114,7},
{154,3},
{155,4},
{157,5},
{186,1},
{190,2},
{245,11},
{246,12},
{247,13},
{299,15},
{300,14},
{303,16},
{305,17},
{309,20},
{310,21},
{311,22},
{312,23},
{313,24},
{314,25},
{315,26},
{316,27},
{317,28},
{318,29},
{319,30}
};

line_pos_struct_t S7[29] = 
{
{8,29},
{9,28},
{10,27},
{11,26},
{12,25},
{21,24},
{34,16},
{40,15},
{72,14},
{113,12},
{114,13},
{154,9},
{155,10},
{157,11},
{184,6},
{186,7},
{190,8},
{204,5},
{205,1},
{206,2},
{207,3},
{208,4},
{245,17},
{246,18},
{247,19},
{299,21},
{300,20},
{303,22},
{305,23}
};

line_pos_struct_t S75[27] = 
{
{21,24},
{22,25},
{23,26},
{24,27},
{34,16},
{40,15},
{72,14},
{113,12},
{114,13},
{154,9},
{155,10},
{157,11},
{184,6},
{186,7},
{190,8},
{204,5},
{205,1},
{206,2},
{207,3},
{208,4},
{245,17},
{246,18},
{247,19},
{299,21},
{300,20},
{303,22},
{305,23}
};

line_pos_struct_t S8[26] = 
{
{25,16},
{26,15},
{27,14},
{28,13},
{48,17},
{50,19},
{51,20},
{52,21},
{59,22},
{60,23},
{61,24},
{67,18},
{91,25},
{92,26},
{259,10},
{277,9},
{278,8},
{279,7},
{282,6},
{283,5},
{284,4},
{285,3},
{286,2},
{287,1},
{300,11},
{301,12}
};

line_pos_struct_t S85[22] = 
{
{25,13},
{26,12},
{27,11},
{28,10},
{48,14},
{62,19},
{63,18},
{64,17},
{66,16},
{67,15},
{88,20},
{89,21},
{90,22},
{259,7},
{277,6},
{278,5},
{279,4},
{282,3},
{283,2},
{284,1},
{300,8},
{301,9}
};

line_pos_struct_t S9[31] = 
{
{34,16},
{40,15},
{72,14},
{113,12},
{114,13},
{154,9},
{155,10},
{157,11},
{174,1},
{175,2},
{176,3},
{177,4},
{178,5},
{183,6},
{186,7},
{190,8},
{245,17},
{246,18},
{247,19},
{259,21},
{272,30},
{273,31},
{274,29},
{275,28},
{276,27},
{277,22},
{278,23},
{279,24},
{282,25},
{283,26},
{300,20}
};

line_pos_struct_t S41[27] = 
{
{25,21},
{26,20},
{27,19},
{28,18},
{48,22},
{68,23},
{77,24},
{110,25},
{133,10},
{134,9},
{135,8},
{144,7},
{163,26},
{164,27},
{185,4},
{186,3},
{187,2},
{188,1},
{193,6},
{194,5},
{231,11},
{256,12},
{259,15},
{261,14},
{262,13},
{300,16},
{301,17}
};

line_pos_struct_t S42[27] = 
{
{25,7},
{26,8},
{27,9},
{28,10},
{48,6},
{68,5},
{77,4},
{110,3},
{133,18},
{134,19},
{135,20},
{144,21},
{163,2},
{164,1},
{185,24},
{186,25},
{187,26},
{188,27},
{193,22},
{194,23},
{231,17},
{256,16},
{259,13},
{261,14},
{262,15},
{300,12},
{301,11}
};

line_pos_struct_t S45[23] = 
{
{133,14},
{134,15},
{135,16},
{144,17},
{185,20},
{186,21},
{187,22},
{188,23},
{193,18},
{194,19},
{231,13},
{256,12},
{260,10},
{262,11},
{272,2},
{273,1},
{274,3},
{275,4},
{276,5},
{278,9},
{279,8},
{282,7},
{283,6}
};

line_pos_struct_t S46[23] = 
{
{133,14},
{134,15},
{135,16},
{144,17},
{185,20},
{186,21},
{187,22},
{188,23},
{193,18},
{194,19},
{231,13},
{256,12},
{260,10},
{262,11},
{278,9},
{279,8},
{282,7},
{283,6},
{284,5},
{285,4},
{286,3},
{287,2},
{288,1}
};

line_pos_struct_t S47[18] = 
{
{133,9},
{134,10},
{135,11},
{144,12},
{185,15},
{186,16},
{187,17},
{188,18},
{193,13},
{194,14},
{231,8},
{256,7},
{260,5},
{262,6},
{278,4},
{279,3},
{280,2},
{281,1}
};

line_data_struct_t leds[] = 
{
{"U1",97,172,44,13,U1},
{"U2",232,77,14,29,U2},
{"U3",0,160,145,24,U3},
{"U4",254,212,0,5,U4},
{"U5",129,81,55,26,U5},
{"U6",131,108,170,29,U6},
{"U7",0,154,217,40,U7},
{"U8",0,89,153,24,U8},
{"U9",241,135,0,17,U9},
{"S1",220,107,166,35,S1},
{"S2",0,123,60,28,S2},
{"S25",0,123,60,27,S25},
{"S26",0,123,60,21,S26},
{"S3",0,101,173,30,S3},
{"S5",237,113,2,30,S5},
{"S7",131,108,170,29,S7},
{"S75",131,108,170,27,S75},
{"S8",97,172,44,26,S8},
{"S85",97,172,44,22,S85},
{"S9",154,42,71,31,S9},
{"S41",203,98,25,27,S41},
{"S42",174,88,54,27,S42},
{"S45",205,156,83,23,S45},
{"S46",205,156,83,23,S46},
{"S47",205,156,83,18,S47},
{"S41S42",203,98,25,27,S41} // use same for both lines

};

uint32_t line_data_number_of_stations(void)
{
  return sizeof(stations) / sizeof(stations[0]);
}


uint32_t line_data_number_of_lines(void)
{
  return sizeof(leds) / sizeof(leds[0]);
}


#include "freertos/FreeRTOS.h"
#include <string.h>

// 1:
// 240
// 241
// 38
// 37
// 245
static void seg_1(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 240-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 241-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip,  38-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip,  37-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 245-1, r, g, b));
}

// 2:
// 245
// 251
// 254
// 252
// 253
static void seg_2(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 245-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 251-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 254-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 252-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 253-1, r, g, b));
}

// 3:
// 253
// 255
// 256
// 257
static void seg_3(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 253-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 255-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 256-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 257-1, r, g, b));
}

// 4:
// 257
// 232
static void seg_4(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 257-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 232-1, r, g, b));
}

// 5:
// 232
// 233
// 234
// 235
static void seg_5(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 232-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 233-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 234-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 235-1, r, g, b));
}

// 6:
// 236
// 237
// 239
// 240
static void seg_6(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 235-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 237-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 239-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 240-1, r, g, b));
}

// 7:
// 235
// 236
// 243
// 254
static void seg_7(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  //ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 235-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 236-1, r, g, b));
  ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 243-1, r, g, b));
  //ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, 254-1, r, g, b));
}



// 1:
// 2,3
static void draw_1(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_2(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
}

// 2:
// 1,2,4,5,7
static void draw_2(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_2(led_strip, r, g, b);
  seg_4(led_strip, r, g, b);
  seg_5(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
}

// 3:
// 1,2,3,4,7
static void draw_3(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_2(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  seg_4(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
}

// 4:
// 2,3,6,7
static void draw_4(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_2(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
}

// 5:
// 1,3,4,6,7
static void draw_5(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  seg_4(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
}

// 6:
// 1,3,4,5,6,7
static void draw_6(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  seg_4(led_strip, r, g, b);
  seg_5(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
}

// 7:
// 1,2,3
static void draw_7(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_2(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
}

// 8:
// 1,2,3,4,5,6,7
static void draw_8(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_2(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  seg_4(led_strip, r, g, b);
  seg_5(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
}

// 9:
// 1,2,3,4,6,7
static void draw_9(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_2(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  //seg_4(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
}

// 0:
// 1,2,3,4,5,6
static void draw_0(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_2(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  seg_4(led_strip, r, g, b);
  seg_5(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
}

// S:
// 1,3,7
static void draw_S(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  seg_1(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
  seg_3(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
  seg_4(led_strip, r, g, b);
}

// U:
// 1,2,3,5,6
static void draw_U(led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b)
{
  //seg_1(led_strip, r, g, b);
  //seg_2(led_strip, r, g, b);
  seg_7(led_strip, r, g, b);
  seg_2(led_strip, r, g, b);
  seg_6(led_strip, r, g, b);
}

void line_data_draw_string(char * str, uint32_t len, led_strip_handle_t *led_strip, uint8_t r, uint8_t g, uint8_t b, uint32_t on_time, uint32_t off_time)
{
  for(int i = 0; i < len; i ++)
  {
    
    for(int j = 0; j < 320; j ++)
    {
      ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, j, 0, 0, 0));
    }

    char chr = str[i];
    switch(chr) {
      case 0: 
        vTaskDelay(pdMS_TO_TICKS(on_time+off_time)); 
        break;
      case '0': 
        draw_0(led_strip, r, g, b); 
        break;
      case '1':
        draw_1(led_strip, r, g, b); 
        break;
      case '2':
        draw_2(led_strip, r, g, b); 
        break;      
      case '3':
        draw_3(led_strip, r, g, b); 
        break;      
      case '4':
        draw_4(led_strip, r, g, b); 
        break;      
      case '5':
        draw_5(led_strip, r, g, b); 
        break;      
      case '6':
        draw_6(led_strip, r, g, b); 
        break;      
      case '7':
        draw_7(led_strip, r, g, b); 
        break;      
      case '8':
        draw_8(led_strip, r, g, b); 
        break;      
      case '9':
        draw_9(led_strip, r, g, b); 
        break;      
      case 'S':
        draw_S(led_strip, r, g, b); 
        break;      
      case 'U':
        draw_U(led_strip, r, g, b); 
        break;      
      default: break;
    }
    ESP_ERROR_CHECK(led_strip_refresh(*led_strip));
    vTaskDelay(pdMS_TO_TICKS(on_time)); 
    if(off_time != 0)
    {
      for(int j = 0; j < 320; j ++)
      {
        ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, j, 0, 0, 0));
      }
      ESP_ERROR_CHECK(led_strip_refresh(*led_strip));
      vTaskDelay(pdMS_TO_TICKS(off_time)); 
    }
  }
}


void led_state_draw_all_lines(led_strip_handle_t *led_strip, uint32_t on_time, uint32_t off_time)
{
  for(int i = 0; i < line_data_number_of_lines(); i ++)
  {
    line_data_draw_string(leds[i].name, strlen(leds[i].name), led_strip, leds[i].r/10, leds[i].g/10, leds[i].b/10, on_time, off_time);
  }
}

void led_state_draw_line(led_strip_handle_t *led_strip, uint32_t line_nr, uint32_t on_time, uint32_t off_time)
{
  line_data_draw_string(leds[line_nr].name, strlen(leds[line_nr].name), led_strip, leds[line_nr].r/10, leds[line_nr].g/10, leds[line_nr].b/10, on_time, off_time);
  for(int j = 0; j < 320; j ++)
  {
    ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, j, 0, 0, 0));
  }
  print_line(led_strip, line_nr);
  ESP_ERROR_CHECK(led_strip_refresh(*led_strip));
  vTaskDelay(pdMS_TO_TICKS(1000)); 
}


void draw_all_numbers(led_strip_handle_t *led_strip)
{
  int time_on = 1000;
  int time_off = 100;
  line_data_draw_string("0", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("1", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("2", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("3", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("4", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("5", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("6", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("7", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("8", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("9", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("U", 1, led_strip, 0, 0, 1, time_on, time_off);
  line_data_draw_string("S", 1, led_strip, 0, 0, 1, time_on, time_off);

}

void print_line(led_strip_handle_t *led_strip, int8_t line_nr) {
    line_data_struct_t *led = &leds[line_nr];
    for(uint32_t y = 0; y < led->pos_size; y ++)
    {
        ESP_ERROR_CHECK(led_strip_set_pixel(*led_strip, led->pos[y].pos_station, led->g/10, led->r/10, led->b/10));
    }
}


/*




1:
2,3

2:
1,2,7,5,4

3:
1,2,7,3,4

4:
6,7,2,3

5:
1,6,7,3,4

6:
1,6,7,3,4,5

7:
1,2,3

8:
1,2,3,4,5,6,7

9:
1,2,3,4,6,7

0:
1,2,3,4,5,6

S:
1,7,3

U:
1,2,3,5,6


 1 1 1 1 
6       2
6       2
6       2
6       2
 7 7 7 7       
5       3
5       3
5       3
5       3
 4 4 4 4
                            
                             
                             
1
stadtmitte 240
hausvogtei 241
spittelmarkt 38
märkisches 37
heinrich heine 245

2
heinrich heine 245
moritzplatz 251
kotti 254
schönlein 252
herrmannplatz 253

3
herrmannplatz 253
boddinstr 255
leinestr 256
hermannstr 257


4.
hermannstr 257
tempelhof 232


5
tempelhof 232
paradestraße 233
platz ad luft 234
mehringdamm 235


6
mehringdamm 235
prinzenstr 237
charlie 239
stadtmitte 240

7
mehringdamm 235
gneisenaustraße 236
südstern 243
kotti 254





                             
1
240
241
38
37
245

2
245
251
254
252
253

3
253
255
256
257


4.
257
232


5
232
233
234
235


6
235
237
239
240

7
235
236
243
254





*/